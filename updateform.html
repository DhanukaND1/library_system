<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Update Form</title>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
   integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
   crossorigin="anonymous" referrerpolicy="no-referrer"/>
   <link rel="stylesheet" href="updateform.css">
</head>
<body>
  
<div class="container">
  <button onclick="closeform()" id="btn"><i class="fa-solid fa-xmark"></i></button>
    
  <form id="updateForm" method="post">
    <h2>User Update</h2>
    
    <div class="input-icon">
      <i class="fa-solid fa-id-badge"></i>
      <input type="text" name="user_id" id="user_id" class="inp" placeholder="User ID (ex: U001)" required readonly>
      <span id="Error1" class="errmsg"></span>
    </div> 

    <div class="input-icon">
      <i class="fa-regular fa-user"></i>
      <input type="text" class="inp" id="fname" name="first_name" placeholder="First Name" required>
    </div>

    <div class="input-icon">
      <i class="fa-regular fa-user"></i>
      <input type="text" class="inp" id="lname" name="last_name" placeholder="Last Name" required>
    </div>

    <div class="input-icon">
      <i class="fa-solid fa-envelope"></i>
      <input type="email" class="inp" id="email" name="email" placeholder="E-mail" required>
      <span id="Error4" class="errmsg"></span>
    </div>

    <div class="input-icon">
      <i class="fa-solid fa-user"></i>
      <input type="text" class="inp" id="username" name="username" placeholder="Username" required>
    </div>

    <div class="input-icon">
      <i class="fa-solid fa-lock"></i>
      <i class="fa-solid fa-eye" id="showpass1"></i>
      <i class="fa-solid fa-eye-slash" id="hidepass1"></i>
      <input type="password" class="inp" id="password" name="password" placeholder="Password" required>
      <span id="Error2" class="errmsg"></span>
    </div>
    
    <button id="btn" type="submit">Update</button>
    
  </form>
</div>

<script>
  document.addEventListener('DOMContentLoaded', (event) => {
    // Retrieve user data from sessionStorage
    document.getElementById('user_id').value = sessionStorage.getItem('user_id');
    document.getElementById('fname').value = sessionStorage.getItem('first_name');
    document.getElementById('lname').value = sessionStorage.getItem('last_name');
    document.getElementById('email').value = sessionStorage.getItem('email');
    document.getElementById('username').value = sessionStorage.getItem('username');
    document.getElementById('password').value = sessionStorage.getItem('password');

    // Clear sessionStorage after retrieving the data
    sessionStorage.clear();

    
  });  
</script>
<script type="text/javascript" src="valid_updateform.js"></script>
<script>
    document.getElementById('updateForm').addEventListener('submit', validate);
</script>
<script src="updateform_eye.js"></script>
<script type="text/javascript" src="table_process.js"></script>


</body>
</html>
